# Azure-Bulk-Tag-Management
This repository provides the PowerShell scripts for azure bulk tag management


Overview
This PowerShell automation consists of two primary scripts:
Discovery Script: Scans Azure resources and generates a CSV file listing all resources along with their tags.
Bulk Tagging Script: Reads a predefined CSV (tags.csv) and applies tag changes (addition, modification, or deletion) in bulk.

Prerequisites
PowerShell 7+
Azure PowerShell Module (Install using: Install-Module -Name Az -AllowClobber)
Required permissions to list and manage Azure resources.
CSV Files
AzureResources.csv: This file is generated by the discovery script and contains all resources and their current tags.


Step 1: Discovery Script
Purpose:
The discovery script scans the Azure subscription provided in the script, collects information about resources, and exports it to a CSV file.

Script: resource.ps1 (Available in the repository)
Run Command:
.\resource.ps1

Step 2: Adding Tags to the Generated File
You can add a new tag in a new column or modify an existing tag.
-Tag Deletion: If a tag value is set to DELETE, the script will remove that tag.
-Tag Addition/Modification: For any other value, the script will add or update the tag accordingly.

Step 3: Bulk Tagging Script
Purpose:
This script reads the AzureResources.csv file and applies the tag updates to the Azure resources in bulk.

Script: applytags.ps1 (Available in the repository)
Run Command:
.\applytags.ps1

How It Works
1. Check for Input CSV
Ensure the input file (AzureResources.csv) exists and is not empty. If it is missing or empty, the script will stop execution.

2. Read the CSV File
The script will load the data from the CSV file to retrieve updated tag information.

3. Check Each Resource
For each resource in the CSV:
-The script checks if the resource exists in Azure.
-If the resource doesn’t exist, it will be skipped.

4. Compare Tags
The script compares the current tags on each resource with the new tags from the CSV. If there’s a change (either addition, modification, or deletion), it will record the change.

5. Apply Changes
The script will update the tags for resources that need changes.
-Tags marked for deletion will be removed.
-Other changes (additions or modifications) will be applied.

6. Log Changes
Every change (update or deletion) will be logged in a separate file (Tag_Update_Log.csv), containing details such as:

Resource ID
-Tag name
-Old and new values
-Timestamp

7. Finish
After all resources are processed, the change log will be exported to the output CSV file.

Key Features
✅ Supports bulk tagging across multiple subscriptions
✅ Handles tag creation, modification, and deletion
✅ Logs every operation with success or failure messages
